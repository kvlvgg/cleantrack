@using Models;

@page "/household-chore"

<Controls.Card Padding="@UI.Controls.Card.Padding.LG">
    <div class="title">
        <Controls.H Level="3" Text="Edit" />
    </div>

    <div>
        <div class="field">
            <Controls.Text Value="Name" Size="@UI.Controls.Text.Size.SM" />
            <Controls.Input @bind-Value="@ViewModel.Form.Name" Size="@UI.Controls.Input.Size.MD" />
        </div>

        <div class="field">
            <Controls.Text Value="Day Interval" Size="@UI.Controls.Text.Size.SM" />
            <Controls.NumberInput @bind-Value="@ViewModel.Form.DayInterval" Size="@UI.Controls.Input.Size.MD" />
        </div>

        <div class="field">
            <Controls.Text Value="Last Date Done" Size="@UI.Controls.Text.Size.SM" />
            <Controls.DateTimeInput @bind-Value="@ViewModel.Form.LastDateDone" Size="@UI.Controls.Input.Size.MD" />
        </div>

        <div class="field">
            <Controls.ProgressBar Value="@ViewModel.ProgressPercent" />
        </div>
    </div>
</Controls.Card>

<div>
    <Controls.Text Value="@ViewModel.Form.Name" Size="@UI.Controls.Text.Size.SM" />
</div>

<div>
    <Controls.Text Value="@ViewModel.Form.DayInterval.ToString()" Size="@UI.Controls.Text.Size.SM" />
</div>

<div>
    <Controls.Text Value="@ViewModel.Form.LastDateDone.ToString()" Size="@UI.Controls.Text.Size.SM" />
</div>


@code {
    [Parameter]
    [SupplyParameterFromQuery]
    public Guid Id { get; set; }

    [Inject]
    IFormHouseholdChoresViewModel ViewModel { get; set; }

    private HouseholdChore householdChore { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        ViewModel.LoadFormById(Id);
    }
}
